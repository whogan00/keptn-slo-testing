---
spec_version: '0.1.0'
comparison:
  compare_with: "single_result"
  include_result_with_score: "all"
  aggregate_function: avg
objectives:
  - sli: p75_latency
    displayName: "P75 latency"
    pass:
      - criteria:
        - "<0.25"
        - "<=+10%"
    warning:
      - criteria:
        - ">=0.25"
        - "<0.5"
    fail:
      - criteria:
        - ">=0.5"
  - sli: p90_latency
    displayName: "P90 latency"
    pass:
      - criteria:
        - "<0.5"
        - "<=+10%"
    warning:
      - criteria:
        - ">=0.5"
        - "<1"
    fail:
      - criteria:
        - ">=1"
  - sli: p95_latency
    displayName: "P95 latency"
    pass:
      - criteria:
        - "<0.75"
        - "<=+10%"
    warning:
      - criteria:
        - ">=0.75"
        - "<1"
    fail:
      - criteria:
        - ">=1"
  - sli: p99_latency
    displayName: "P99 Latency"
    pass:
      - criteria:
        - "<1"
        - "<=+10%"
    warning:
      - criteria:
        - ">=1"
        - "<1.5"
        - ">+10%"
        - "<+20%"
  - sli: go_heap_inuse
    displayName: "Golang Heap Inuse"
    pass:
      - criteria:
        - "<8000000"
    warning:
      - criteria:
        - ">=8000000"
        - "<14000000"
    weight: 0.25
  - sli: container_restarts
    displayName: "Containers Restarts"
    pass:
      - criteria:
        - "<1"
    key_sli: true

total_score:
  pass: "90%"
  warning: "50%"