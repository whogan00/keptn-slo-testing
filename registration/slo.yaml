---
spec_version: '0.1.0'
comparison:
  compare_with: "single_result"
  include_result_with_score: "pass"
  aggregate_function: avg
objectives:
  - sli: p75_latency
    displayName: "P75 latency"
    pass:
      - criteria:
        - "<0.5"
        - "<=+10%"
    warning:
      - criteria:
        - ">=0.5"
        - "<1"
    fail:
      - criteria:
        - ">=1"
  - sli: p99_latency
    displayName: "P99 Latency"
    pass:
      - criteria:
        - "<0.7"
    warning:
      - criteria:
        - ">=0.7"
        - "<1"
  - sli: p99_latency_rollup
    displayName: "P99 Rollup"
    pass:
      - criteria:
        - "<1"
    warning:
      - criteria:
        - ">=1"
        - "<1.5"
  - sli: p99_latency_rollup_duration
    displayName: "P99 Rollup Duration"
    pass:
      - criteria:
        - "<1"
        - "<=10%"
    warning:
      - criteria:
        - ">=1"
        - "<1.5"
        - ">10%"
        - "<20%"
  - sli: go_heap_inuse
    displayName: "Golang Heap Inuse"
    pass:
      - criteria:
        - "<8000000"
    warning:
      - criteria:
        - ">=8000000"
        - "<14000000"
    weight: 0.25
  - sli: container_restarts
    displayName: "Containers Restarts"
    fail:
      - criteria:
        - ">1"

total_score:
  pass: "100%"
  warning: "50%"